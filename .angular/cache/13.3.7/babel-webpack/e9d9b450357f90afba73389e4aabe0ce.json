{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { trigger, state, style, transition, animate } from '@angular/animations';\nimport { JalaliLocale } from '../../shared/jalali.locale';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../ng-jalali-date-time.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/cdk/bidi\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/button\";\n\nfunction NgJalaliRangeComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_0_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.showCalendar(false);\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction NgJalaliRangeComponent_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_span_8_Template_span_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      ctx_r6.setRange(\"reset\");\n      return ctx_r6.reset = true;\n    });\n    i0.ɵɵelementStart(1, \"button\", 12);\n    i0.ɵɵtext(2, \"x\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r1.css.reset);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    fontFamily: a0\n  };\n};\n\nfunction NgJalaliRangeComponent_mat_error_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(2, _c0, ctx_r2.css.font));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.config.error, \" \");\n  }\n}\n\nfunction NgJalaliRangeComponent_div_10_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const day_r12 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r8.css.range.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(day_r12);\n  }\n}\n\nconst _c1 = function (a0, a1) {\n  return {\n    \"ng-jalali-selected\": a0,\n    \"ng-jalali-current\": a1\n  };\n};\n\nfunction NgJalaliRangeComponent_div_10_div_36_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_div_36_div_1_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const day_r15 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(3);\n      return ctx_r16.setCustomDate(day_r15.date, ctx_r16.custom.to);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const day_r15 = ctx.$implicit;\n    const ctx_r14 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", day_r15.month !== ctx_r14.fMonth || ctx_r14.config.min && day_r15.date < ctx_r14.config.min || ctx_r14.config.max && day_r15.date > ctx_r14.config.max || ctx_r14.custom.to !== \"\" && day_r15.date >= ctx_r14.custom.to)(\"ngClass\", i0.ɵɵpureFunction2(4, _c1, day_r15.date === ctx_r14.custom.from, day_r15.date === ctx_r14.today))(\"ngStyle\", day_r15.date === ctx_r14.today ? ctx_r14.css.current : day_r15.date === ctx_r14.custom.from ? ctx_r14.css.selected : ctx_r14.css.item);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", day_r15.day, \" \");\n  }\n}\n\nfunction NgJalaliRangeComponent_div_10_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, NgJalaliRangeComponent_div_10_div_36_div_1_Template, 3, 7, \"div\", 29);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const week_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", week_r13.days);\n  }\n}\n\nfunction NgJalaliRangeComponent_div_10_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const day_r18 = ctx.$implicit;\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r10.css.range.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(day_r18);\n  }\n}\n\nfunction NgJalaliRangeComponent_div_10_div_58_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 30)(1, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_div_58_div_1_Template_button_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r23);\n      const day_r21 = restoredCtx.$implicit;\n      const ctx_r22 = i0.ɵɵnextContext(3);\n      return ctx_r22.setCustomDate(ctx_r22.custom.from, day_r21.date);\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const day_r21 = ctx.$implicit;\n    const ctx_r20 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"disabled\", day_r21.month !== ctx_r20.tMonth || ctx_r20.config.min && day_r21.date < ctx_r20.config.min || ctx_r20.config.max && day_r21.date > ctx_r20.config.max || ctx_r20.custom.from !== \"\" && day_r21.date <= ctx_r20.custom.from)(\"ngClass\", i0.ɵɵpureFunction2(4, _c1, day_r21.date === ctx_r20.custom.to, day_r21.date === ctx_r20.today))(\"ngStyle\", day_r21.date === ctx_r20.today ? ctx_r20.css.current : day_r21.date === ctx_r20.custom.to ? ctx_r20.css.selected : ctx_r20.css.item);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", day_r21.day, \" \");\n  }\n}\n\nfunction NgJalaliRangeComponent_div_10_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, NgJalaliRangeComponent_div_10_div_58_div_1_Template, 3, 7, \"div\", 29);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const week_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", week_r19.days);\n  }\n}\n\nfunction NgJalaliRangeComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return ctx_r24.setRange(\"custom\");\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.setRange(\"current-week\");\n    });\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return ctx_r27.setRange(\"current-month\");\n    });\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return ctx_r28.setRange(\"last-7days\");\n    });\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return ctx_r29.setRange(\"last-30days\");\n    });\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return ctx_r30.setRange(\"next-7days\");\n    });\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return ctx_r31.setRange(\"next-30days\");\n    });\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 17)(17, \"div\", 18)(18, \"div\", 19)(19, \"div\")(20, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r32 = i0.ɵɵnextContext();\n      return ctx_r32.changeMonth(\"from\", -12);\n    });\n    i0.ɵɵtext(21, \" << \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\")(23, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return ctx_r33.changeMonth(\"from\", -1);\n    });\n    i0.ɵɵtext(24, \" < \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 21);\n    i0.ɵɵtext(26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"div\")(28, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r34 = i0.ɵɵnextContext();\n      return ctx_r34.changeMonth(\"from\", 1);\n    });\n    i0.ɵɵtext(29, \" > \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\")(31, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_31_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r35 = i0.ɵɵnextContext();\n      return ctx_r35.changeMonth(\"from\", 12);\n    });\n    i0.ɵɵtext(32, \" >> \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(33, \"div\", 23);\n    i0.ɵɵtemplate(34, NgJalaliRangeComponent_div_10_div_34_Template, 2, 2, \"div\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"section\");\n    i0.ɵɵtemplate(36, NgJalaliRangeComponent_div_10_div_36_Template, 2, 1, \"div\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\", 26);\n    i0.ɵɵtext(38);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(39, \"div\", 27)(40, \"div\", 19)(41, \"div\")(42, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_42_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r36 = i0.ɵɵnextContext();\n      return ctx_r36.changeMonth(\"to\", -12);\n    });\n    i0.ɵɵtext(43, \" << \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(44, \"div\")(45, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_45_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return ctx_r37.changeMonth(\"to\", -1);\n    });\n    i0.ɵɵtext(46, \" < \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(47, \"div\", 21);\n    i0.ɵɵtext(48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"div\")(50, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_50_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r38 = i0.ɵɵnextContext();\n      return ctx_r38.changeMonth(\"to\", 1);\n    });\n    i0.ɵɵtext(51, \" > \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(52, \"div\")(53, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function NgJalaliRangeComponent_div_10_Template_button_click_53_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return ctx_r39.changeMonth(\"to\", 12);\n    });\n    i0.ɵɵtext(54, \" >> \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(55, \"div\", 23);\n    i0.ɵɵtemplate(56, NgJalaliRangeComponent_div_10_div_56_Template, 2, 2, \"div\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"section\");\n    i0.ɵɵtemplate(58, NgJalaliRangeComponent_div_10_div_58_Template, 2, 1, \"div\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(59, \"div\", 26);\n    i0.ɵɵtext(60);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.box)(\"@calendar\", undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.custom.from === \"\" || ctx_r3.custom.to === \"\" ? ctx_r3.css.range.custom : ctx_r3.css.range.confirm)(\"disabled\", ctx_r3.custom.from === \"\" || ctx_r3.custom.to === \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.custom.from === \"\" || ctx_r3.custom.to === \"\" ? ctx_r3.jalaliLocale.rangeCustom : ctx_r3.jalaliLocale.rangeCustomConfirm, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.range.tool);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.jalaliLocale.rangeCurrentWeek, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.range.tool);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.jalaliLocale.rangeCurrentMonth, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.range.tool);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.jalaliLocale.rangeLast7Days, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.range.tool);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.jalaliLocale.rangeLast30Days, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.range.tool);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.jalaliLocale.rangeNext7Days, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.range.tool);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.jalaliLocale.rangeNext30Days, \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.arrow)(\"disabled\", ctx_r3.fMonth.substr(0, 4) === \"1000\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.arrow)(\"disabled\", ctx_r3.fMonth === \"1000-01\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.header);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.fCalendar.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.arrow);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.arrow);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.week);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.fCalendar.weeks);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.range.date);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.fTitle);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.arrow)(\"disabled\", ctx_r3.tMonth.substr(0, 4) === \"1000\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.arrow)(\"disabled\", ctx_r3.tMonth === \"1000-01\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.header);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.tCalendar.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.arrow);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.arrow);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.week);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.tCalendar.weeks);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngStyle\", ctx_r3.css.range.date);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.tTitle);\n  }\n}\n\nconst _c2 = function () {\n  return {\n    display: \"none\"\n  };\n};\n\nexport let NgJalaliRangeComponent = /*#__PURE__*/(() => {\n  class NgJalaliRangeComponent {\n    constructor(service) {\n      this.service = service;\n      this.show = false;\n      this.random = Date.now().toString();\n      this.today = '';\n      this.reset = false;\n      this.jalaliLocale = new JalaliLocale();\n      this.week = this.jalaliLocale.dayNames;\n      this.changed = new EventEmitter();\n    }\n\n    ngOnInit() {\n      this.custom = {\n        from: this.value.range ? this.value.from : '',\n        to: this.value.range ? this.value.to : ''\n      };\n      this.setCustomTitle();\n      this.fMonth = this.value.range ? this.value.from.substr(0, 7) : this.service.jalali.now({\n        format: 'Y-M'\n      });\n      this.fCalendar = this.service.getCalendar(this.fMonth);\n      this.tMonth = this.value.range ? this.value.to.substr(0, 7) : this.service.jalali.now({\n        format: 'Y-M'\n      });\n      this.tCalendar = this.service.getCalendar(this.tMonth);\n      this.today = this.service.jalali.now({\n        format: 'Y-M-D'\n      });\n      const validators = [];\n      if (this.config.required) validators.push(this.validate.bind(this));\n      this.form.addControl(this.name, new FormControl(this.value));\n      this.form.addControl(this.name + '-title', new FormControl('', validators));\n      this.setTitle();\n    }\n\n    validate() {\n      return this.value.range ? null : {\n        required: true\n      };\n    }\n\n    showCalendar(show) {\n      const input = document.querySelector('#input' + this.random);\n      input.blur();\n\n      if (this.reset) {\n        this.reset = false;\n        show = false;\n      }\n\n      this.show = show;\n\n      if (this.show) {\n        this.setCustomTitle();\n        this.form.get(this.name + '-title').markAsUntouched();\n\n        if (this.value.range) {\n          this.fMonth = this.value.from.substr(0, 7);\n          this.fCalendar = this.service.getCalendar(this.fMonth);\n          this.tMonth = this.value.to.substr(0, 7);\n          this.tCalendar = this.service.getCalendar(this.tMonth);\n        } else {\n          this.fMonth = this.service.jalali.now({\n            format: 'Y-M'\n          });\n          this.fCalendar = this.service.getCalendar(this.fMonth);\n          this.tMonth = this.service.jalali.now({\n            format: 'Y-M'\n          });\n          this.tCalendar = this.service.getCalendar(this.tMonth);\n          this.setCustomDate('', '');\n        }\n      } else this.form.get(this.name + '-title').markAsTouched();\n    }\n\n    changeMonth(type, change) {\n      let Y = '';\n      let M = '';\n\n      switch (type) {\n        case 'from':\n          [Y, M] = this.fMonth.split('-');\n          break;\n\n        case 'to':\n          [Y, M] = this.tMonth.split('-');\n          break;\n      }\n\n      let year = Number(Y);\n      let month = Number(M) + change;\n\n      while (month > 12) {\n        month -= 12;\n        year++;\n      }\n\n      while (month < 1) {\n        month += 12;\n        year--;\n      }\n\n      switch (type) {\n        case 'from':\n          this.fMonth = year.toString() + '-' + (month < 10 ? '0' : '') + month.toString();\n          this.fCalendar = this.service.getCalendar(this.fMonth);\n          break;\n\n        case 'to':\n          this.tMonth = year.toString() + '-' + (month < 10 ? '0' : '') + month.toString();\n          this.tCalendar = this.service.getCalendar(this.tMonth);\n          break;\n      }\n    }\n\n    setTitle() {\n      this.form.get(this.name).setValue(this.value);\n      const title = this.service.getRangeTitle(this.value);\n      this.form.get(this.name + '-title').setValue(title);\n    }\n\n    setCustomTitle() {\n      this.fTitle = this.custom.from ? this.service.jalali.toTitle(this.service.jalaliToGregorian(this.custom.from)) : this.jalaliLocale.notSpecified;\n      this.tTitle = this.custom.to ? this.service.jalali.toTitle(this.service.jalaliToGregorian(this.custom.to)) : this.jalaliLocale.notSpecified;\n    }\n\n    setCustomDate(from, to) {\n      if (from && to && from >= to) return;\n      this.custom.from = from;\n      this.custom.to = to;\n      this.setCustomTitle();\n    }\n\n    setRange(type) {\n      const format = {\n        format: 'Y-M-D'\n      };\n      let from = '';\n      let to = '';\n      let date = null;\n\n      switch (type) {\n        case 'current-week':\n          date = this.service.jalaliToGregorian(this.today);\n\n          while (date.getDay() !== 6) {\n            date = new Date(date.getTime() - 24 * 3600 * 1000);\n          }\n\n          from = this.service.jalali.toString(date, format);\n          to = this.service.jalali.toString(new Date(date.getTime() + 6 * 24 * 3600 * 1000), format);\n          break;\n\n        case 'current-month':\n          date = this.service.jalaliToGregorian(this.today.substr(0, 8) + '01');\n          const days = this.service.getDayInMonth(this.today.substr(0, 7));\n          from = this.service.jalali.toString(date, format);\n          to = this.service.jalali.toString(new Date(date.getTime() + (days - 1) * 24 * 3600 * 1000), format);\n          break;\n\n        case 'last-7days':\n          date = this.service.jalaliToGregorian(this.today);\n          from = this.service.jalali.toString(new Date(date.getTime() - 6 * 24 * 3600 * 1000), format);\n          to = this.service.jalali.toString(date, format);\n          break;\n\n        case 'last-30days':\n          date = this.service.jalaliToGregorian(this.today);\n          from = this.service.jalali.toString(new Date(date.getTime() - 29 * 24 * 3600 * 1000), format);\n          to = this.service.jalali.toString(date, format);\n          break;\n\n        case 'next-7days':\n          date = this.service.jalaliToGregorian(this.today);\n          from = this.service.jalali.toString(date, format);\n          to = this.service.jalali.toString(new Date(date.getTime() + 6 * 24 * 3600 * 1000), format);\n          break;\n\n        case 'next-30days':\n          date = this.service.jalaliToGregorian(this.today);\n          from = this.service.jalali.toString(date, format);\n          to = this.service.jalali.toString(new Date(date.getTime() + 29 * 24 * 3600 * 1000), format);\n          break;\n\n        case 'custom':\n          from = this.custom.from;\n          to = this.custom.to;\n          break;\n\n        case 'reset':\n        default:\n          break;\n      }\n\n      this.custom = {\n        from,\n        to\n      };\n      this.value = this.service.getRangeValue(from, to);\n      this.setTitle();\n      this.showCalendar(false);\n      this.changed.emit(this.value.range ? this.value : null);\n      this.form.get(this.name + '-title').updateValueAndValidity();\n    }\n\n  }\n\n  NgJalaliRangeComponent.ɵfac = function NgJalaliRangeComponent_Factory(t) {\n    return new (t || NgJalaliRangeComponent)(i0.ɵɵdirectiveInject(i1.NgJalaliDateTimeService));\n  };\n\n  NgJalaliRangeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NgJalaliRangeComponent,\n    selectors: [[\"ng-component\"]],\n    outputs: {\n      changed: \"changed\"\n    },\n    decls: 11,\n    vars: 18,\n    consts: [[\"class\", \"ng-jalali-back\", 3, \"click\", 4, \"ngIf\"], [3, \"formGroup\", \"ngStyle\"], [\"type\", \"text\", 3, \"formControlName\"], [\"dir\", \"rtl\", 1, \"ng-jalali\"], [1, \"ng-jalali\", 3, \"ngStyle\", \"formGroup\", \"appearance\"], [3, \"ngStyle\"], [\"matInput\", \"\", \"type\", \"text\", 1, \"ng-jalali\", 3, \"id\", \"formControlName\", \"ngStyle\", \"focus\"], [\"matSuffix\", \"\", 3, \"click\", 4, \"ngIf\"], [3, \"ngStyle\", 4, \"ngIf\"], [\"class\", \"ng-jalali-calendar\", 3, \"ngStyle\", 4, \"ngIf\"], [1, \"ng-jalali-back\", 3, \"click\"], [\"matSuffix\", \"\", 3, \"click\"], [\"mat-button\", \"\", \"type\", \"button\", 1, \"ng-jalali-reset\", 3, \"ngStyle\"], [1, \"ng-jalali-calendar\", 3, \"ngStyle\"], [1, \"ng-jalali-range-tools\"], [\"mat-button\", \"\", \"type\", \"button\", 1, \"ng-jalali-range-custom\", 3, \"ngStyle\", \"disabled\", \"click\"], [\"mat-button\", \"\", \"type\", \"button\", 3, \"ngStyle\", \"click\"], [1, \"ng-jalali-range-custom\"], [1, \"ng-jalali-range-from\"], [1, \"ng-jalali-header\"], [\"mat-icon-button\", \"\", \"type\", \"button\", 3, \"ngStyle\", \"disabled\", \"click\"], [1, \"ng-jalali-title\", 3, \"ngStyle\"], [\"mat-icon-button\", \"\", \"type\", \"button\", 3, \"ngStyle\", \"click\"], [1, \"ng-jalali-range-header\"], [3, \"ngStyle\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"ng-jalali-range-week\", 4, \"ngFor\", \"ngForOf\"], [1, \"ng-jalali-range-custom-title\", 3, \"ngStyle\"], [1, \"ng-jalali-range-to\"], [1, \"ng-jalali-range-week\"], [\"class\", \"ng-jalali-range-day\", 4, \"ngFor\", \"ngForOf\"], [1, \"ng-jalali-range-day\"], [\"mat-icon-button\", \"\", \"type\", \"button\", 3, \"disabled\", \"ngClass\", \"ngStyle\", \"click\"]],\n    template: function NgJalaliRangeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, NgJalaliRangeComponent_div_0_Template, 1, 0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelement(2, \"input\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"content\", 3)(4, \"mat-form-field\", 4)(5, \"mat-label\", 5);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"input\", 6);\n        i0.ɵɵlistener(\"focus\", function NgJalaliRangeComponent_Template_input_focus_7_listener() {\n          return ctx.showCalendar(true);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(8, NgJalaliRangeComponent_span_8_Template, 3, 1, \"span\", 7);\n        i0.ɵɵtemplate(9, NgJalaliRangeComponent_mat_error_9_Template, 2, 4, \"mat-error\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(10, NgJalaliRangeComponent_div_10_Template, 61, 41, \"div\", 9);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.show);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.form)(\"ngStyle\", i0.ɵɵpureFunction0(15, _c2));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formControlName\", ctx.name);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngStyle\", ctx.css.field)(\"formGroup\", ctx.form)(\"appearance\", ctx.appearance);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(16, _c0, ctx.css.font));\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.label);\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate1(\"id\", \"input\", ctx.random, \"\");\n        i0.ɵɵproperty(\"formControlName\", ctx.name + \"-title\")(\"ngStyle\", ctx.css.input);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.config.reset && ctx.value.range !== \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.form.get(ctx.name + \"-title\").hasError(\"required\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.show);\n      }\n    },\n    directives: [i2.NgIf, i3.NgControlStatusGroup, i3.FormGroupDirective, i2.NgStyle, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i4.Dir, i5.MatFormField, i5.MatLabel, i6.MatInput, i5.MatSuffix, i7.MatButton, i5.MatError, i2.NgForOf, i2.NgClass],\n    styles: [\"div.ng-jalali-range-tools[_ngcontent-%COMP%]{display:flex}div.ng-jalali-range-tools[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.5rem 0;text-align:center;border-right:1px solid #ccc;border-bottom:1px solid #ccc;background-color:#fafafa;border-radius:0;white-space:normal;min-width:auto}div.ng-jalali-range-tools[_ngcontent-%COMP%]   button.ng-jalali-range-custom[_ngcontent-%COMP%]{border-width:0px;background-color:#fff}div.ng-jalali-range-custom[_ngcontent-%COMP%]{display:flex;flex-direction:row}div.ng-jalali-range-from[_ngcontent-%COMP%]{flex:1;margin:0 0 0 .5rem}div.ng-jalali-range-to[_ngcontent-%COMP%]{flex:1;margin:0 .5rem 0 0}@media only screen and (max-width: 800px){div.ng-jalali-range-custom[_ngcontent-%COMP%]{flex-direction:column}div.ng-jalali-range-from[_ngcontent-%COMP%]{flex:1;margin:0 0 .5rem}div.ng-jalali-range-to[_ngcontent-%COMP%]{flex:1;margin:.5rem 0 0}}div.ng-jalali-range-from[_ngcontent-%COMP%], div.ng-jalali-range-to[_ngcontent-%COMP%]{display:flex;flex-direction:column}div.ng-jalali-range-from[_ngcontent-%COMP%]   section[_ngcontent-%COMP%], div.ng-jalali-range-to[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex:1}div.ng-jalali-range-header[_ngcontent-%COMP%]{display:flex;align-items:center}div.ng-jalali-range-header[_ngcontent-%COMP%]{display:flex}div.ng-jalali-range-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;padding:1rem .2rem;text-align:center;background-color:#ddd}div.ng-jalali-range-week[_ngcontent-%COMP%]{display:flex}div.ng-jalali-range-day[_ngcontent-%COMP%]{flex:1;padding:.2rem;text-align:center}div.ng-jalali-range-custom-title[_ngcontent-%COMP%]{border-top:1px solid #ccc;padding:1rem;text-align:center;font-size:14px}@media only screen and (max-width: 800px){div.ng-jalali-range-custom-title[_ngcontent-%COMP%]{border-top-width:0px;border-bottom:1px solid #ccc}}\", \"div.ng-jalali-back[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;left:0;right:0;background-color:#0000;z-index:999}content.ng-jalali[_ngcontent-%COMP%]{display:block;position:relative}mat-form-field.ng-jalali[_ngcontent-%COMP%]{direction:rtl;text-align:right;width:100%;margin:0}input.ng-jalali[_ngcontent-%COMP%]{text-align:right;cursor:default}button.ng-jalali-reset[_ngcontent-%COMP%]{min-width:auto;color:#555;padding:0 .5rem;line-height:30px}div.ng-jalali-calendar[_ngcontent-%COMP%]{direction:rtl;position:absolute;top:45px;right:0;background-color:#fff;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;z-index:1000}div.ng-jalali-header[_ngcontent-%COMP%]{display:flex;align-items:center}div.ng-jalali-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;padding:.5rem .2rem;text-align:center}div.ng-jalali-header[_ngcontent-%COMP%]   div.ng-jalali-title[_ngcontent-%COMP%]{flex:3}button.ng-jalali-selected[_ngcontent-%COMP%]{background-color:#eee;border:1px solid #999}button.ng-jalali-current[_ngcontent-%COMP%]{color:#009}\"],\n    data: {\n      animation: [trigger('calendar', [state('init', style({\n        opacity: 1,\n        transform: 'translateY(0) scaleY(1)'\n      })), transition('void => *', [style({\n        opacity: 0,\n        transform: 'translateY(-45%) scaleY(0)'\n      }), animate(100)]), transition('* => void', animate(100, style({\n        opacity: 0,\n        transform: 'translateY(-45%) scaleY(0)'\n      })))])]\n    }\n  });\n  return NgJalaliRangeComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}